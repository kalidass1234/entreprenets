if(!window.vc)var vc={};!function(e){var t=vc.events={};_.extend(t,Backbone.Events),t.triggerShortcodeEvents=function(e,t){var c;c=t.get("shortcode"),this.trigger("shortcodes",t,e),this.trigger("shortcodes:"+c,t,e),this.trigger("shortcodes:"+e,t),this.trigger("shortcodes:"+c+":"+e,t),this.trigger("shortcodes:"+c+":"+e+":parent:"+t.get("parent_id"),t),this.triggerParamsEvents(e,t)},t.triggerParamsEvents=function(e,t){var c,s,r;c=t.get("shortcode"),s=_.extend({},t.get("params")),r=vc.map[c],_.isArray(r.params)&&_.each(r.params,function(r){this.trigger("shortcodes:"+e+":param",t,s[r.param_name],r),this.trigger("shortcodes:"+c+":"+e+":param",t,s[r.param_name],r),this.trigger("shortcodes:"+e+":param:type:"+r.type,t,s[r.param_name],r),this.trigger("shortcodes:"+c+":"+e+":param:type:"+r.type,t,s[r.param_name],r),this.trigger("shortcodes:"+e+":param:name:"+r.param_name,t,s[r.param_name],r),this.trigger("shortcodes:"+c+":"+e+":param:name:"+r.param_name,t,s[r.param_name],r)},this)}}(window.jQuery),function(e){vc.AccessPolicyConstructor=function(){this.accessPolicy={},vc.events.trigger("vc:access:initialize",this)},vc.AccessPolicyConstructor.prototype={accessPolicy:{},add:function(e,t){t=_.isUndefined(t)?!0:!!t,this.accessPolicy[e]=t},can:function(e){return!!this.accessPolicy[e]}},e(function(){vc.accessPolicy=new vc.AccessPolicyConstructor})}(window.jQuery),function(e){vc.events.on("vc:access:initialize",function(e){e.add("be_editor",vc_user_access().editor("backend_editor")),e.add("fe_editor",window.vc_frontend_enabled&&vc_user_access().editor("frontend_editor")),e.add("classic_editor",!vc_user_access().check("backend_editor","disabled_ce_editor",void 0,!0)),!window.vc.gridItemEditor&&vc.events.trigger("vc:access:backend:ready",e)}),vc.events.on("vc:access:backend:ready",function(t){var c,s,r,i;if(r="",i="",t.can("fe_editor")&&(r='<span class="vc_spacer"></span><a class="wpb_switch-to-front-composer" href="'+e("#wpb-edit-inline").attr("href")+'">'+window.i18nLocale.main_button_title_frontend_editor+"</a>"),t.can("classic_editor")?t.can("be_editor")&&(i='<span class="vc_spacer"></span><a class="wpb_switch-to-composer" href="javascript:;">'+window.i18nLocale.main_button_title_backend_editor+"</a>"):(e("#postdivrich").hide(),t.can("be_editor")&&_.defer(function(){vc.events.trigger("vc:backend_editor:show")})),r||i){var a=e("div#titlediv");s=a.length?e('<div class="composer-switch"><span class="logo-icon"></span>'+i+r+"</div>").insertAfter(a):e('<div class="composer-switch"><span class="logo-icon"></span>'+i+r+"</div>").prependTo("#post-body-content"),t.can("classic_editor")&&(c=s.find(".wpb_switch-to-composer"),c.click(function(e){vc.events.trigger("vc:backend_editor:switch")}))}})}(window.jQuery);