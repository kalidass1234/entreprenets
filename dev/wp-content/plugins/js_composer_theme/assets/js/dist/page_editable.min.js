var vc_iframe={scripts_to_wait:0,time_to_call:!1,ajax:!1,activities_list:[],scripts_to_load:!1,loaded_script:{},loaded_styles:{},inline_scripts:[],inline_scripts_body:[]};!function(e){vc_iframe.showNoContent=function(t){var i=e("#vc_no-content-helper");!1===t&&i.addClass("vc_not-empty")||i.removeClass("vc_not-empty")},vc_iframe.scrollTo=function(t){var i,a,o,r,n=e(window).height(),c=e(window).scrollTop();if(t&&(i=e("[data-model-id="+t+"]"))){if(r=i.offset(),!1===(o=r?r.top:!1))return!1;a=i.height(),(o>c+n||c>o+a)&&e.scrollTo(i,500,{offset:-50})}},vc_iframe.startSorting=function(){e("body").addClass("vc_sorting")},vc_iframe.stopSorting=function(){e("body").removeClass("vc_sorting")},vc_iframe.initDroppable=function(){e("body").addClass("vc_dragging"),e(".vc_container-block").bind("mouseenter.vcDraggable",function(){e(this).addClass("vc_catcher")}).bind("mouseout.vcDraggable",function(){e(this).removeClass("vc_catcher")})},vc_iframe.killDroppable=function(){e("body").removeClass("vc_dragging"),e(".vc_container-block").unbind("mouseover.vcDraggable mouseleave.vcDraggable")},vc_iframe.addActivity=function(e){this.activities_list.push(e)},vc_iframe.renderPlaceholder=function(t,i){var a=e(i).data("tag"),o=parent.vc.map[a]===Object(parent.vc.map[a])&&((!0===parent.vc.map[a].is_container||!1===parent.vc.map[a].is_container||"[object Boolean]"===toString.call(parent.vc.map[a].is_container))&&!0===parent.vc.map[a].is_container||null!=parent.vc.map[a].as_parent&&"[object Array]"===Object.prototype.toString.call(parent.vc.map[a].as_parent)&&0!=parent.vc.map[a].as_parent),r=e('<div class="vc_helper vc_helper-'+a+'"><i class="vc_general vc_element-icon'+(parent.vc.map[a].icon?" "+parent.vc.map[a].icon:"")+'"'+(o?' data-is-container="true"':"")+"></i> "+parent.vc.map[a].name+"</div>").prependTo("body");return r},vc_iframe.setSortable=function(t){var i=e("[data-tag=vc_row]");i.parent().sortable({forcePlaceholderSize:!1,items:"[data-tag=vc_row]",handle:".vc_move-vc_row",cursor:"move",cursorAt:{top:20,left:16},placeholder:"vc_placeholder-row",cancel:".vc-non-draggable-row",helper:this.renderPlaceholder,start:function(e,t){vc_iframe.startSorting(),t.placeholder.height(30)},stop:this.stopSorting,tolerance:"pointer",update:function(e,t){parent.vc.app.saveRowOrder()}}),e(".vc_element-container").sortable({forcePlaceholderSize:!0,helper:this.renderPlaceholder,distance:3,scroll:!0,scrollSensitivity:70,cursor:"move",cursorAt:{top:20,left:16},connectWith:".vc_element-container",items:"> [data-model-id]",cancel:".vc-non-draggable",handle:".vc_element-move",start:this.startSorting,update:t.saveElementOrder,change:function(e,t){t.placeholder.height(30),t.placeholder.width(t.placeholder.parent().width())},placeholder:"vc_placeholder",tolerance:"pointer",over:function(e,t){var i=t.item.data("tag"),a=window.parent.vc.map||!1,o=t.placeholder.closest("[data-tag]").data("tag"),r="undefined"==typeof a[o].allowed_container_element?!0:a[o].allowed_container_element;if(t.placeholder.removeClass("vc_hidden-placeholder"),t.placeholder.css({maxWidth:t.placeholder.parent().width()}),i&&a){if(window.parent.vc.checkRelevance(o,i)||t.placeholder.addClass("vc_hidden-placeholder"),t.sender){var n=t.sender.closest(".vc_element").removeClass("vc_sorting-over");1>n.find(".vc_element").length&&n.addClass("vc_empty")}t.placeholder.closest(".vc_element").addClass("vc_sorting-over");var c=a[i]===Object(a[i])&&((!0===a[i].is_container||!1===a[i].is_container||"[object Boolean]"===toString.call(a[i].is_container))&&!0===a[i].is_container||null!=a[i].as_parent&&"[object Array]"===Object.prototype.toString.call(a[i].as_parent)&&0!=a[i].as_parent);c&&!0!==r&&r!==i.replace(/_inner$/,"")&&t.placeholder.addClass("vc_hidden-placeholder")}},out:function(e,t){t.placeholder.removeClass("vc_hidden-placeholder")},stop:function(t,i){var a,o=i.item.data("tag"),r=window.parent.vc.map||!1,n=i.item.parents("[data-tag]:first").data("tag"),c=r[n].allowed_container_element?r[n].allowed_container_element:!0,s=!0;window.parent.vc.checkRelevance(n,o)||(i.placeholder.removeClass("vc_hidden-placeholder"),e(this).sortable("cancel"),s=!1);var l=r[o]===Object(r[o])&&((!0===r[o].is_container||!1===r[o].is_container||"[object Boolean]"===toString.call(r[o].is_container))&&!0===r[o].is_container||null!=r[o].as_parent&&"[object Array]"===Object.prototype.toString.call(r[o].as_parent)&&0!=r[o].as_parent);l&&!0!==c&&c!==o.replace(/_inner$/,"")&&(i.placeholder.removeClass("vc_hidden-placeholder"),e(this).sortable("cancel"),s=!1),s&&(a=parent.vc.shortcodes.get(i.item.data("modelId")),a.view.parentChanged()),vc_iframe.stopSorting()}}),e(".wpb_row").sortable({forcePlaceholderSize:!0,tolerance:"pointer",items:"> [data-tag=vc_column], > [data-tag=vc_column_inner]",handle:"> .vc_controls .vc_move-vc_column",start:function(e,t){vc_iframe.startSorting();var i=t.item.data("modelId"),a=parent.vc.shortcodes.get(i),o=a.view.convertSize(a.getParam("width"));t.item.appendTo(t.item.parent().parent()),t.placeholder.addClass(o),t.placeholder.width(t.placeholder.width()-4)},cursor:"move",cursorAt:{top:20,left:16},stop:function(e,t){vc_iframe.stopSorting(e,t)},update:t.saveColumnOrder,placeholder:"vc_placeholder-column",helper:this.renderPlaceholder}),i.disableSelection(),i.delegate("select","mouseenter",function(){i.enableSelection()}),i.delegate("select","mouseleave",function(){i.disableSelection()}),i.delegate('input[type="text"],textarea',"focus",function(){i.enableSelection()}),i.delegate('input[type="text"],textarea',"blur",function(){i.disableSelection()}),t.setFrameSize(),e("#vc_load-new-js-block").appendTo("body")},vc_iframe.loadCustomCss=function(t){vc_iframe.$custom_style||(e("[data-type=vc_custom-css]").remove(),vc_iframe.$custom_style=e('<style class="vc_post_custom_css_style"></style>').appendTo("body")),vc_iframe.$custom_style.html(t.replace(/(<([^>]+)>)/gi,""))},vc_iframe.setCustomShortcodeCss=function(t){this.$shortcodes_custom_css=e("body > [data-type=vc_shortcodes-custom-css]"),this.$shortcodes_custom_css.length||(this.$shortcodes_custom_css=e('<style data-type="vc_shortcodes-custom-css"></style>').prependTo("body")),this.$shortcodes_custom_css.append(t)},vc_iframe.addInlineScript=function(e){return this.inline_scripts.push(e)-1},vc_iframe.addInlineScriptBody=function(e){return this.inline_scripts_body.push(e)-1},vc_iframe.loadInlineScripts=function(){for(var t=0;this.inline_scripts[t];)e(this.inline_scripts[t]).insertAfter(".js_placeholder_"+t),e(".js_placeholder_"+t).remove(),t++;this.inline_scripts=[]},vc_iframe.loadInlineScriptsBody=function(){for(var t=0;this.inline_scripts_body[t];)e(this.inline_scripts_body[t]).insertAfter(".js_placeholder_inline_"+t),e(".js_placeholder_inline_"+t).remove(),t++;this.inline_scripts_body=[]},vc_iframe.allowedLoadScript=function(e){var t,i,a,o=[],r=[];if(e.match(/load\-scripts\.php/)){i=e.match(/load%5B%5D=([^&]+)/)[1],i&&(o=i.split(","));for(t in o)a="load-script:"+o[t],vc_iframe.loaded_script[window.parent.vc_globalHashCode(a)]||(vc_iframe.loaded_script[window.parent.vc_globalHashCode(a)]=a,r.push(o[t]));return r.length?e.replace(/load%5B%5D=[^&]+/,"load%5B%5D="+r.join(",")):!1}return vc_iframe.loaded_script[window.parent.vc_globalHashCode(e)]?!1:(vc_iframe.loaded_script[window.parent.vc_globalHashCode(e)]=e,e)},vc_iframe.collectScriptsData=function(){e("script[src]").each(function(){vc_iframe.allowedLoadScript(e(this).attr("src"))}),e("link[href]").each(function(){var t=e(this).attr("href");vc_iframe.loaded_styles[window.parent.vc_globalHashCode(t)]=t})},e("body").removeClass("admin-bar"),e(document).ready(function(){e("#wpadminbar").hide(),e(".edit-link").hide(),window.parent.vc&&!window.parent.vc.loaded&&window.parent.vc.build&&window.parent.vc.build()}),vc_iframe.reload=function(){vc_iframe.reload_safety_call=!1,e("a:not(.control-btn),form").each(function(){e(this).attr("target","_blank")}),this.collectScriptsData(),this.loadInlineScripts(),this.loadInlineScriptsBody();for(var t in this.activities_list)this.activities_list[t].call(window);return this.activities_list=[],window.setTimeout(function(){window.vc_teaserGrid(),window.vc_carouselBehaviour(),window.vc_prettyPhoto(),window.vc_googleplus(),window.vc_pinterest(),window.vc_progress_bar(),window.vc_rowBehaviour(),window.vc_waypoints(),window.vc_google_fonts(),window.vc_gridBehaviour(),e(window).trigger("vc_reload"),e(window).trigger("resize")},10),!0},vc_iframe.addScripts=function(e){vc_iframe.scripts_to_wait=e.length,vc_iframe.scripts_to_load=e},vc_iframe.addStyles=function(t){t.each(function(){e("<style/>",{type:"text/css"}).html(e(this).html()).appendTo("body")})},vc_iframe.loadScripts=function(){return vc_iframe.scripts_to_wait&&vc_iframe.scripts_to_load?(vc_iframe.scripts_to_load.each(function(){var t=e(this);if(vc_iframe.reload_safety_call=!0,t.is("script")){var i=t.attr("src");if(i)i=vc_iframe.allowedLoadScript(i),i?e.getScript(i,function(){vc_iframe.scripts_to_wait-=1,1>vc_iframe.scripts_to_wait&&vc_iframe.reload()}):(vc_iframe.scripts_to_wait-=1,1>vc_iframe.scripts_to_wait&&vc_iframe.reload());else if(t){try{e("<script/>",{type:"text/javascript"}).html(t.html()).appendTo("body")}catch(a){window.console&&window.console.error&&window.console.error(a)}vc_iframe.scripts_to_wait-=1,1>vc_iframe.scripts_to_wait&&vc_iframe.reload()}}else{var o=t.attr("href");o&&!vc_iframe.loaded_styles[window.parent.vc_globalHashCode(o)]&&e("<link/>",{rel:"stylesheet",type:"text/css",href:o}).appendTo("body"),vc_iframe.scripts_to_wait-=1,1>vc_iframe.scripts_to_wait&&vc_iframe.reload()}}),vc_iframe.scripts_to_load=!1,e(document).ajaxComplete(function(t){e(t.currentTarget).unbind("ajaxComplete"),!vc_iframe.scripts_to_wait&&vc_iframe.reload()}),void window.setTimeout(function(){!0===vc_iframe.reload_safety_call&&vc_iframe.reload()},14e3)):void vc_iframe.reload()},vc_iframe.destroyTabs=function(t){t.each(function(){var t=e(this).find(".wpb_tour_tabs_wrapper");t.tabs("destroy")})},vc_iframe.buildTabs=function(t,i){var a=e.ui.version.split("."),o=1===parseInt(a[0])&&9>parseInt(a[1]);return t.each(function(t){var a,r=(e(this).attr("data-interval"),[]),n=e(this).find(".wpb_tour_tabs_wrapper");n.hasClass("ui-widget")?(i=!1!==i?i:n.tabs("option","active"),a=n.tabs("refresh"),n.tabs("option","active",i)):a=e(this).find(".wpb_tour_tabs_wrapper").tabs({active:0,show:function(e,t){wpb_prepare_tab_content(e,t)},activate:function(e,t){wpb_prepare_tab_content(e,t)}}),e(this).find(".vc_element").each(function(){r.push(this.id)}),e(this).find(".wpb_prev_slide a, .wpb_next_slide a").unbind("click").click(function(t){if(t.preventDefault(),o){var i=a.tabs("option","selected");e(this).parent().hasClass("wpb_next_slide")?i++:i--,0>i?i=a.tabs("length")-1:i>=a.tabs("length")&&(i=0),a.tabs("select",i)}else{var i=a.tabs("option","active"),r=a.find(".wpb_tab").length;i=e(this).parent().hasClass("wpb_next_slide")?i+1>=r?0:i+1:0>i-1?r-1:i-1,a.tabs("option","active",i)}})}),!0},vc_iframe.setActiveTab=function(t,i){t.each(function(){e(this).find(".wpb_tour_tabs_wrapper").tabs("refresh"),e(this).find(".wpb_tour_tabs_wrapper").tabs("option","active",i)})},vc_iframe.setTabsSorting=function(t){var i=e(t.tabsControls().get(0));i.hasClass("ui-sortable")&&i.sortable("destroy"),i.sortable({axis:"vc_tour"===t.model.get("shortcode")?"y":"x",update:t.stopSorting,items:"> li:not(.add_tab_block)"});var a=navigator.userAgent.toLowerCase();a.match(/firefox/)&&(i.bind("sortstart",function(t,i){i.helper.css("margin-top",e(window).scrollTop())}),i.bind("sortbeforestop",function(e,t){t.helper.css("margin-top",0)}))},vc_iframe.buildAccordion=function(t,i){t.each(function(t){var a,o=e(this),r=o.find(".wpb_accordion_wrapper"),n=(o.attr("data-interval"),!isNaN(o.data("active-tab"))&&0<parseInt(o.data("active-tab"))?parseInt(o.data("active-tab"))-1:!1),c=!1===n||"yes"===o.data("collapsible");r.hasClass("ui-widget")?(!1===i&&(i=r.accordion("option","active")),r.accordion("refresh"),r.accordion("option","active",i)):a=o.find(".wpb_accordion_wrapper").accordion({create:function(e,t){t.panel.parent().parent().addClass("vc_active-accordion-tab")},header:"> .vc_element > div > h3",autoHeight:!1,heightStyle:"content",active:n,collapsible:c,navigation:!0,activate:function(e,t){vc_accordionActivate(e,t),t.oldPanel.parent().parent().removeClass("vc_active-accordion-tab"),t.newPanel.parent().parent().addClass("vc_active-accordion-tab")},change:function(t,i){"undefined"!=typeof e.fn.isotope&&i.newContent.find(".isotope").isotope("layout"),window.vc_carouselBehaviour()}})})},vc_iframe.setAccordionSorting=function(t){e(t.$accordion.find("> .wpb_accordion_wrapper").get(0)).sortable({handle:".vc_move-vc_accordion_tab",update:t.stopSorting})},vc_iframe.vc_imageCarousel=function(t){var i=e("[data-model-id="+t+"]"),a=(i.find("img").length,i.find('[data-ride="vc_carousel"]'));return a.find("img:first").length?a.find("img:first").prop("complete")?void a.carousel(a.data()):void window.setTimeout(function(){vc_iframe.vc_imageCarousel(t)},500):void a.carousel(a.data())},vc_iframe.vc_gallery=function(t){var i=e("[data-model-id="+t+"]"),a=i.find(".wpb_gallery_slides");return a.find("img:first").prop("complete")?void this.gallerySlider(a):void window.setTimeout(function(){vc_iframe.vc_gallery(t)},500)},vc_iframe.vc_postsSlider=function(t){var i=e("[data-model-id="+t+"]"),a=i.find(".wpb_gallery_slides");this.gallerySlider(a)},vc_iframe.gallerySlider=function(t){var i;if(t.hasClass("wpb_flexslider")){var a=800,o=1e3*parseInt(t.attr("data-interval")),r=t.attr("data-flex_fx"),n=!0;0===o&&(n=!1),t.flexslider({animation:r,slideshow:n,slideshowSpeed:o,sliderSpeed:a,smoothHeight:!0}),t.addClass("loaded")}else if(t.hasClass("wpb_slider_nivo")){var a=800,o=1e3*t.attr("data-interval");0===o&&(o=9999999999),t.find(".nivoSlider").nivoSlider({effect:"boxRainGrow,boxRain,boxRainReverse,boxRainGrowReverse",slices:15,boxCols:8,boxRows:4,animSpeed:a,pauseTime:o,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,keyboardNav:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next"})}else t.hasClass("wpb_image_grid")&&(e.fn.imagesLoaded?i=t.find(".wpb_image_grid_ul").imagesLoaded(function(){i.isotope({itemSelector:".isotope-item",layoutMode:"fitRows"})}):t.find(".wpb_image_grid_ul").isotope({itemSelector:".isotope-item",layoutMode:"fitRows"}))},vc_iframe.vc_Flickr=function(t){var i=t.data("link");e.getScript(i,function(){e(window.b_txt).insertAfter(t)})},vc_iframe.vc_toggle=function(t){var i=e("[data-model-id="+t+"]");window.vc_toggleBehaviour(i)},vc_iframe.gridInit=function(t){var i,a=e("[data-model-id="+t+"] [data-vc-grid-settings]");a.find(".vc_grid-loading:visible").length||(i=a.data("vcGrid"),i?(a.empty(),i.init()):a.vcGrid())},vc_iframe.updateChildGrids=function(t){var i=e("[data-model-id="+t+"] [data-vc-grid-settings]");i.each(function(){var t=e(this),i=e(this).data("vcGrid");!t.find(".vc_grid-loading:visible").length&&i&&(t.empty(),i.init())})},vc_iframe.buildTTA=function(){e("[data-vc-accordion]:not(.vc_is-ready-fe)").on("show.vc.accordion",function(t){var i={};i.newPanel=e(this).data("vc.accordion").getTarget(),window.wpb_prepare_tab_content(t,i)}).addClass("vc_is-ready-fe")},vc_iframe.vc_pieChart=function(){window.vc_pieChart(),window.setTimeout(function(){e(window).unbind("resize.vcPieChartEditable").bind("resize.vcPieChartEditable",function(){e(".vc_pie_chart.vc_ready").vcChat("resize")})},500)},e(document).ready(function(){parent&&parent.vc&&!parent.vc.loaded&&window.setTimeout(function(){parent.vc.build()},10)})}(window.jQuery);var vcPointerMessage;!function(e){"use strict";vcPointerMessage=function(e,t,i){this.target=e,this.$pointer=null,this.texts=i,this.pointerOptions=t,this.init()},vcPointerMessage.prototype={init:function(){_.bindAll(this,"openedEvent","reposition")},show:function(){this.$pointer=e(this.target),this.$pointer.data("vcPointerMessage",this),this.pointerOptions.opened=this.openedEvent,this.$pointer.addClass("vc-with-vc-pointer").pointer(this.pointerOptions).pointer("open"),e(window).on("resize.vcPointer",this.reposition)},domButtonsWrapper:function(){return e('<div class="vc_wp-pointer-controls" />')},domCloseBtn:function(){return e('<a class="vc_pointer-close close">'+this.texts.finish+"</a>")},domNextBtn:function(){return e('<button class="button button-primary button-large vc_wp-pointers-next">'+this.texts.next+'<i class="vc_pointer-icon"></i></button>')},domPrevBtn:function(){return e('<button class="button button-primary button-large vc_wp-pointers-prev"><i class="vc_pointer-icon"></i>'+this.texts.prev+"</button> ")},openedEvent:function(t,i){var a=i.pointer.offset();a&&a.top&&e("body").scrollTop(80<a.top?a.top-80:0)},reposition:function(){this.$pointer.pointer("reposition")},close:function(){this.$pointer&&this.$pointer.removeClass("vc-with-vc-pointer").pointer("close"),e(window).off("resize.vcPointer")}}}(window.jQuery);